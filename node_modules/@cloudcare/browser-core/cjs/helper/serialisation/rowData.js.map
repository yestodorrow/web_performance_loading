{"version":3,"file":"rowData.js","names":["_jsonStringify","require","_tools","_typeof","obj","Symbol","iterator","constructor","prototype","escapeRowData","str","jsonStringify","isString","reg","String","replace","word","escapeJsonValue","value","isTag","escapeFieldValueStr","escapeRowField"],"sources":["../../../src/helper/serialisation/rowData.js"],"sourcesContent":["import { jsonStringify } from './jsonStringify'\nimport { isString, isNumber } from '../tools'\nexport function escapeRowData(str) {\n  if (typeof str === 'object' && str) {\n    str = jsonStringify(str)\n  } else if (!isString(str)) {\n    return str\n  }\n  var reg = /[\\s=,\"]/g\n  return String(str).replace(reg, function (word) {\n    return '\\\\' + word\n  })\n}\n\nexport function escapeJsonValue(value, isTag) {\n  if (typeof value === 'object' && value) {\n    value = jsonStringify(value)\n  } else if (isTag) {\n    // tag  json  只能是字符串\n    value = '' + value\n  }\n\n  return value\n}\n\nexport function escapeFieldValueStr(str) {\n  return '\"' + str.replace(/\\\\/g, '\\\\\\\\').replace(/\"/g, '\\\\\"') + '\"'\n}\nexport function escapeRowField(value) {\n  if (typeof value === 'object' && value) {\n    return escapeFieldValueStr(jsonStringify(value))\n  } else if (isString(value)) {\n    return escapeFieldValueStr(value)\n  } else {\n    return value\n  }\n}\n"],"mappings":";;;;;;;;;AAAA,IAAAA,cAAA,GAAAC,OAAA;AACA,IAAAC,MAAA,GAAAD,OAAA;AAA6C,SAAAE,QAAAC,GAAA,sCAAAD,OAAA,wBAAAE,MAAA,uBAAAA,MAAA,CAAAC,QAAA,aAAAF,GAAA,kBAAAA,GAAA,gBAAAA,GAAA,WAAAA,GAAA,yBAAAC,MAAA,IAAAD,GAAA,CAAAG,WAAA,KAAAF,MAAA,IAAAD,GAAA,KAAAC,MAAA,CAAAG,SAAA,qBAAAJ,GAAA,KAAAD,OAAA,CAAAC,GAAA;AACtC,SAASK,aAAaA,CAACC,GAAG,EAAE;EACjC,IAAIP,OAAA,CAAOO,GAAG,MAAK,QAAQ,IAAIA,GAAG,EAAE;IAClCA,GAAG,GAAG,IAAAC,4BAAa,EAACD,GAAG,CAAC;EAC1B,CAAC,MAAM,IAAI,CAAC,IAAAE,eAAQ,EAACF,GAAG,CAAC,EAAE;IACzB,OAAOA,GAAG;EACZ;EACA,IAAIG,GAAG,GAAG,UAAU;EACpB,OAAOC,MAAM,CAACJ,GAAG,CAAC,CAACK,OAAO,CAACF,GAAG,EAAE,UAAUG,IAAI,EAAE;IAC9C,OAAO,IAAI,GAAGA,IAAI;EACpB,CAAC,CAAC;AACJ;AAEO,SAASC,eAAeA,CAACC,KAAK,EAAEC,KAAK,EAAE;EAC5C,IAAIhB,OAAA,CAAOe,KAAK,MAAK,QAAQ,IAAIA,KAAK,EAAE;IACtCA,KAAK,GAAG,IAAAP,4BAAa,EAACO,KAAK,CAAC;EAC9B,CAAC,MAAM,IAAIC,KAAK,EAAE;IAChB;IACAD,KAAK,GAAG,EAAE,GAAGA,KAAK;EACpB;EAEA,OAAOA,KAAK;AACd;AAEO,SAASE,mBAAmBA,CAACV,GAAG,EAAE;EACvC,OAAO,GAAG,GAAGA,GAAG,CAACK,OAAO,CAAC,KAAK,EAAE,MAAM,CAAC,CAACA,OAAO,CAAC,IAAI,EAAE,KAAK,CAAC,GAAG,GAAG;AACpE;AACO,SAASM,cAAcA,CAACH,KAAK,EAAE;EACpC,IAAIf,OAAA,CAAOe,KAAK,MAAK,QAAQ,IAAIA,KAAK,EAAE;IACtC,OAAOE,mBAAmB,CAAC,IAAAT,4BAAa,EAACO,KAAK,CAAC,CAAC;EAClD,CAAC,MAAM,IAAI,IAAAN,eAAQ,EAACM,KAAK,CAAC,EAAE;IAC1B,OAAOE,mBAAmB,CAACF,KAAK,CAAC;EACnC,CAAC,MAAM;IACL,OAAOA,KAAK;EACd;AACF","ignoreList":[]}