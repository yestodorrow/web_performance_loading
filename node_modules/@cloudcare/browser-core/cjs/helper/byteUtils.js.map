{"version":3,"file":"byteUtils.js","names":["ONE_KIBI_BYTE","exports","ONE_MEBI_BYTE","HAS_MULTI_BYTES_CHARACTERS","computeBytesCount","candidate","test","length","window","TextEncoder","undefined","encode","Blob","size","concatBuffers","buffers","reduce","total","buffer","result","Uint8Array","offset","_iterator","_createForOfIteratorHelper","_step","s","n","done","value","set","err","e","f"],"sources":["../../src/helper/byteUtils.js"],"sourcesContent":["export var ONE_KIBI_BYTE = 1024\nexport var ONE_MEBI_BYTE = 1024 * ONE_KIBI_BYTE\n// eslint-disable-next-line no-control-regex\nvar HAS_MULTI_BYTES_CHARACTERS = /[^\\u0000-\\u007F]/\n\nexport function computeBytesCount(candidate) {\n  // Accurate bytes count computations can degrade performances when there is a lot of events to process\n  if (!HAS_MULTI_BYTES_CHARACTERS.test(candidate)) {\n    return candidate.length\n  }\n\n  if (window.TextEncoder !== undefined) {\n    return new TextEncoder().encode(candidate).length\n  }\n\n  return new Blob([candidate]).size\n}\nexport function concatBuffers(buffers) {\n  var length = buffers.reduce(function (total, buffer) {\n    return total + buffer.length\n  }, 0)\n  var result = new Uint8Array(length)\n  var offset = 0\n  for (var buffer of buffers) {\n    result.set(buffer, offset)\n    offset += buffer.length\n  }\n  return result\n}\n"],"mappings":";;;;;;;;;;;AAAO,IAAIA,aAAa,GAAG,IAAI;AAAAC,OAAA,CAAAD,aAAA,GAAAA,aAAA;AACxB,IAAIE,aAAa,GAAG,IAAI,GAAGF,aAAa;AAC/C;AAAAC,OAAA,CAAAC,aAAA,GAAAA,aAAA;AACA,IAAIC,0BAA0B,GAAG,kBAAkB;AAE5C,SAASC,iBAAiBA,CAACC,SAAS,EAAE;EAC3C;EACA,IAAI,CAACF,0BAA0B,CAACG,IAAI,CAACD,SAAS,CAAC,EAAE;IAC/C,OAAOA,SAAS,CAACE,MAAM;EACzB;EAEA,IAAIC,MAAM,CAACC,WAAW,KAAKC,SAAS,EAAE;IACpC,OAAO,IAAID,WAAW,CAAC,CAAC,CAACE,MAAM,CAACN,SAAS,CAAC,CAACE,MAAM;EACnD;EAEA,OAAO,IAAIK,IAAI,CAAC,CAACP,SAAS,CAAC,CAAC,CAACQ,IAAI;AACnC;AACO,SAASC,aAAaA,CAACC,OAAO,EAAE;EACrC,IAAIR,MAAM,GAAGQ,OAAO,CAACC,MAAM,CAAC,UAAUC,KAAK,EAAEC,MAAM,EAAE;IACnD,OAAOD,KAAK,GAAGC,MAAM,CAACX,MAAM;EAC9B,CAAC,EAAE,CAAC,CAAC;EACL,IAAIY,MAAM,GAAG,IAAIC,UAAU,CAACb,MAAM,CAAC;EACnC,IAAIc,MAAM,GAAG,CAAC;EAAA,IAAAC,SAAA,GAAAC,0BAAA,CACKR,OAAO;IAAAS,KAAA;EAAA;IAA1B,KAAAF,SAAA,CAAAG,CAAA,MAAAD,KAAA,GAAAF,SAAA,CAAAI,CAAA,IAAAC,IAAA,GAA4B;MAAA,IAAnBT,MAAM,GAAAM,KAAA,CAAAI,KAAA;MACbT,MAAM,CAACU,GAAG,CAACX,MAAM,EAAEG,MAAM,CAAC;MAC1BA,MAAM,IAAIH,MAAM,CAACX,MAAM;IACzB;EAAC,SAAAuB,GAAA;IAAAR,SAAA,CAAAS,CAAA,CAAAD,GAAA;EAAA;IAAAR,SAAA,CAAAU,CAAA;EAAA;EACD,OAAOb,MAAM;AACf","ignoreList":[]}