{"version":3,"file":"lifeCycle.js","names":["_tools","require","LifeCycleEventType","PERFORMANCE_ENTRIES_COLLECTED","AUTO_ACTION_COMPLETED","BEFORE_VIEW_CREATED","VIEW_CREATED","VIEW_UPDATED","VIEW_ENDED","AFTER_VIEW_ENDED","SESSION_RENEWED","SESSION_EXPIRED","PAGE_EXITED","REQUEST_STARTED","REQUEST_COMPLETED","RAW_RUM_EVENT_COLLECTED","RUM_EVENT_COLLECTED","RAW_ERROR_COLLECTED","RAW_LOG_COLLECTED","LOG_COLLECTED","exports","LifeCycle","callbacks","prototype","notify","eventType","data","eventCallbacks","each","callback","subscribe","push","_this","unsubscribe","filter","other"],"sources":["../../src/helper/lifeCycle.js"],"sourcesContent":["import { each, filter } from './tools'\nexport var LifeCycleEventType = {\n  PERFORMANCE_ENTRIES_COLLECTED: 'PERFORMANCE_ENTRIES_COLLECTED',\n  AUTO_ACTION_COMPLETED: 'AUTO_ACTION_COMPLETED',\n  BEFORE_VIEW_CREATED: 'BEFORE_VIEW_CREATED',\n  VIEW_CREATED: 'VIEW_CREATED',\n  VIEW_UPDATED: 'VIEW_UPDATED',\n  VIEW_ENDED: 'VIEW_ENDED',\n  AFTER_VIEW_ENDED: 'AFTER_VIEW_ENDED',\n  SESSION_RENEWED: 'SESSION_RENEWED',\n  SESSION_EXPIRED: 'SESSION_EXPIRED',\n  PAGE_EXITED: 'PAGE_EXITED',\n  REQUEST_STARTED: 'REQUEST_STARTED',\n  REQUEST_COMPLETED: 'REQUEST_COMPLETED',\n  RAW_RUM_EVENT_COLLECTED: 'RAW_RUM_EVENT_COLLECTED',\n  RUM_EVENT_COLLECTED: 'RUM_EVENT_COLLECTED',\n  RAW_ERROR_COLLECTED: 'RAW_ERROR_COLLECTED',\n  RAW_LOG_COLLECTED: 'RAW_LOG_COLLECTED',\n  LOG_COLLECTED: 'LOG_COLLECTED'\n}\nexport function LifeCycle() {\n  this.callbacks = {}\n}\nLifeCycle.prototype = {\n  notify: function (eventType, data) {\n    var eventCallbacks = this.callbacks[eventType]\n    if (eventCallbacks) {\n      each(eventCallbacks, function (callback) {\n        callback(data)\n      })\n    }\n  },\n  subscribe: function (eventType, callback) {\n    if (!this.callbacks[eventType]) {\n      this.callbacks[eventType] = []\n    }\n    this.callbacks[eventType].push(callback)\n    var _this = this\n    return {\n      unsubscribe: function () {\n        _this.callbacks[eventType] = filter(\n          _this.callbacks[eventType],\n          function (other) {\n            return other !== callback\n          }\n        )\n      }\n    }\n  }\n}\n"],"mappings":";;;;;;;AAAA,IAAAA,MAAA,GAAAC,OAAA;AACO,IAAIC,kBAAkB,GAAG;EAC9BC,6BAA6B,EAAE,+BAA+B;EAC9DC,qBAAqB,EAAE,uBAAuB;EAC9CC,mBAAmB,EAAE,qBAAqB;EAC1CC,YAAY,EAAE,cAAc;EAC5BC,YAAY,EAAE,cAAc;EAC5BC,UAAU,EAAE,YAAY;EACxBC,gBAAgB,EAAE,kBAAkB;EACpCC,eAAe,EAAE,iBAAiB;EAClCC,eAAe,EAAE,iBAAiB;EAClCC,WAAW,EAAE,aAAa;EAC1BC,eAAe,EAAE,iBAAiB;EAClCC,iBAAiB,EAAE,mBAAmB;EACtCC,uBAAuB,EAAE,yBAAyB;EAClDC,mBAAmB,EAAE,qBAAqB;EAC1CC,mBAAmB,EAAE,qBAAqB;EAC1CC,iBAAiB,EAAE,mBAAmB;EACtCC,aAAa,EAAE;AACjB,CAAC;AAAAC,OAAA,CAAAlB,kBAAA,GAAAA,kBAAA;AACM,SAASmB,SAASA,CAAA,EAAG;EAC1B,IAAI,CAACC,SAAS,GAAG,CAAC,CAAC;AACrB;AACAD,SAAS,CAACE,SAAS,GAAG;EACpBC,MAAM,EAAE,SAAAA,OAAUC,SAAS,EAAEC,IAAI,EAAE;IACjC,IAAIC,cAAc,GAAG,IAAI,CAACL,SAAS,CAACG,SAAS,CAAC;IAC9C,IAAIE,cAAc,EAAE;MAClB,IAAAC,WAAI,EAACD,cAAc,EAAE,UAAUE,QAAQ,EAAE;QACvCA,QAAQ,CAACH,IAAI,CAAC;MAChB,CAAC,CAAC;IACJ;EACF,CAAC;EACDI,SAAS,EAAE,SAAAA,UAAUL,SAAS,EAAEI,QAAQ,EAAE;IACxC,IAAI,CAAC,IAAI,CAACP,SAAS,CAACG,SAAS,CAAC,EAAE;MAC9B,IAAI,CAACH,SAAS,CAACG,SAAS,CAAC,GAAG,EAAE;IAChC;IACA,IAAI,CAACH,SAAS,CAACG,SAAS,CAAC,CAACM,IAAI,CAACF,QAAQ,CAAC;IACxC,IAAIG,KAAK,GAAG,IAAI;IAChB,OAAO;MACLC,WAAW,EAAE,SAAAA,YAAA,EAAY;QACvBD,KAAK,CAACV,SAAS,CAACG,SAAS,CAAC,GAAG,IAAAS,aAAM,EACjCF,KAAK,CAACV,SAAS,CAACG,SAAS,CAAC,EAC1B,UAAUU,KAAK,EAAE;UACf,OAAOA,KAAK,KAAKN,QAAQ;QAC3B,CACF,CAAC;MACH;IACF,CAAC;EACH;AACF,CAAC","ignoreList":[]}