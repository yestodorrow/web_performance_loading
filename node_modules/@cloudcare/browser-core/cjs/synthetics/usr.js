"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.startCacheUsrCache = exports.ANONYMOUS_ID_EXPIRATION = exports.ANONYMOUS_ID_COOKIE_NAME = void 0;
var _cookie = require("../browser/cookie");
var _tools = require("../helper/tools");
var ANONYMOUS_ID_COOKIE_NAME = '_dataflulx_usr_id';
exports.ANONYMOUS_ID_COOKIE_NAME = ANONYMOUS_ID_COOKIE_NAME;
var ANONYMOUS_ID_EXPIRATION = 60 * 24 * _tools.ONE_HOUR;
exports.ANONYMOUS_ID_EXPIRATION = ANONYMOUS_ID_EXPIRATION;
var startCacheUsrCache = function startCacheUsrCache(configuration) {
  var usrCacheId = (0, _cookie.getCookie)(ANONYMOUS_ID_COOKIE_NAME);
  if (!usrCacheId) {
    usrCacheId = (0, _tools.UUID)();
    (0, _cookie.setCookie)(ANONYMOUS_ID_COOKIE_NAME, usrCacheId, ANONYMOUS_ID_EXPIRATION, configuration.cookieOptions);
  }
  return {
    getUsrId: function getUsrId() {
      return usrCacheId;
    }
  };
};
exports.startCacheUsrCache = startCacheUsrCache;
//# sourceMappingURL=usr.js.map