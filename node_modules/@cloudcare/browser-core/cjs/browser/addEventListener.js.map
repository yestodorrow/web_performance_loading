{"version":3,"file":"addEventListener.js","names":["_tools","require","_getZoneJsOriginalValue","_monitor","addEventListener","eventTarget","event","listener","options","addEventListeners","eventNames","wrappedListener","monitor","once","stop","passive","capture","add","getZoneJsOriginalValue","each","eventName","call","remove"],"sources":["../../src/browser/addEventListener.js"],"sourcesContent":["import { each } from '../helper/tools'\nimport { getZoneJsOriginalValue } from '../helper/getZoneJsOriginalValue'\nimport { monitor } from '../helper/monitor'\nexport function addEventListener(eventTarget, event, listener, options) {\n  return addEventListeners(eventTarget, [event], listener, options)\n}\n\n/**\n * Add event listeners to an event emitter object (Window, Element, mock object...).  This provides\n * a few conveniences compared to using `element.addEventListener` directly:\n *\n * * supports IE11 by:\n *   * using an option object only if needed\n *   * emulating the `once` option\n *\n * * wraps the listener with a `monitor` function\n *\n * * returns a `stop` function to remove the listener\n *\n * * with `once: true`, the listener will be called at most once, even if different events are\n *   listened\n */\n\nexport function addEventListeners(eventTarget, eventNames, listener, options) {\n  var wrappedListener = monitor(\n    options && options.once\n      ? function (event) {\n          stop()\n          listener(event)\n        }\n      : listener\n  )\n  options =\n    options && options.passive\n      ? { capture: options.capture, passive: options.passive }\n      : options && options.capture\n  var add = getZoneJsOriginalValue(eventTarget, 'addEventListener')\n\n  each(eventNames, function (eventName) {\n    add.call(eventTarget, eventName, wrappedListener, options)\n  })\n  var stop = function () {\n    var remove = getZoneJsOriginalValue(eventTarget, 'removeEventListener')\n    each(eventNames, function (eventName) {\n      remove.call(eventTarget, eventName, wrappedListener, options)\n    })\n  }\n  return {\n    stop: stop\n  }\n}\n"],"mappings":";;;;;;;AAAA,IAAAA,MAAA,GAAAC,OAAA;AACA,IAAAC,uBAAA,GAAAD,OAAA;AACA,IAAAE,QAAA,GAAAF,OAAA;AACO,SAASG,gBAAgBA,CAACC,WAAW,EAAEC,KAAK,EAAEC,QAAQ,EAAEC,OAAO,EAAE;EACtE,OAAOC,iBAAiB,CAACJ,WAAW,EAAE,CAACC,KAAK,CAAC,EAAEC,QAAQ,EAAEC,OAAO,CAAC;AACnE;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEO,SAASC,iBAAiBA,CAACJ,WAAW,EAAEK,UAAU,EAAEH,QAAQ,EAAEC,OAAO,EAAE;EAC5E,IAAIG,eAAe,GAAG,IAAAC,gBAAO,EAC3BJ,OAAO,IAAIA,OAAO,CAACK,IAAI,GACnB,UAAUP,KAAK,EAAE;IACfQ,IAAI,CAAC,CAAC;IACNP,QAAQ,CAACD,KAAK,CAAC;EACjB,CAAC,GACDC,QACN,CAAC;EACDC,OAAO,GACLA,OAAO,IAAIA,OAAO,CAACO,OAAO,GACtB;IAAEC,OAAO,EAAER,OAAO,CAACQ,OAAO;IAAED,OAAO,EAAEP,OAAO,CAACO;EAAQ,CAAC,GACtDP,OAAO,IAAIA,OAAO,CAACQ,OAAO;EAChC,IAAIC,GAAG,GAAG,IAAAC,8CAAsB,EAACb,WAAW,EAAE,kBAAkB,CAAC;EAEjE,IAAAc,WAAI,EAACT,UAAU,EAAE,UAAUU,SAAS,EAAE;IACpCH,GAAG,CAACI,IAAI,CAAChB,WAAW,EAAEe,SAAS,EAAET,eAAe,EAAEH,OAAO,CAAC;EAC5D,CAAC,CAAC;EACF,IAAIM,IAAI,GAAG,SAAPA,IAAIA,CAAA,EAAe;IACrB,IAAIQ,MAAM,GAAG,IAAAJ,8CAAsB,EAACb,WAAW,EAAE,qBAAqB,CAAC;IACvE,IAAAc,WAAI,EAACT,UAAU,EAAE,UAAUU,SAAS,EAAE;MACpCE,MAAM,CAACD,IAAI,CAAChB,WAAW,EAAEe,SAAS,EAAET,eAAe,EAAEH,OAAO,CAAC;IAC/D,CAAC,CAAC;EACJ,CAAC;EACD,OAAO;IACLM,IAAI,EAAEA;EACR,CAAC;AACH","ignoreList":[]}