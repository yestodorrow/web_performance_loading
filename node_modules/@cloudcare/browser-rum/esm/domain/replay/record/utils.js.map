{"version":3,"file":"utils.js","names":["assign","timeStampNow","RecordType","isTouchEvent","event","Boolean","changedTouches","forEach","list","callback","Array","prototype","call","assembleIncrementalSnapshot","source","data","type","IncrementalSnapshot","timestamp","getPathToNestedCSSRule","rule","path","currentRule","parentRule","rules","from","cssRules","index","indexOf","unshift","parentStyleSheet"],"sources":["../../../../src/domain/replay/record/utils.js"],"sourcesContent":["import { assign, timeStampNow } from '@cloudcare/browser-core'\nimport { RecordType } from '../../../types'\n\nexport function isTouchEvent(event) {\n  return Boolean(event.changedTouches)\n}\n\nexport function forEach(list, callback) {\n  Array.prototype.forEach.call(list, callback)\n}\n\nexport function assembleIncrementalSnapshot(source, data) {\n  return {\n    data: assign(\n      {\n        source: source\n      },\n      data\n    ),\n    type: RecordType.IncrementalSnapshot,\n    timestamp: timeStampNow()\n  }\n}\n\nexport function getPathToNestedCSSRule(rule) {\n  var path = []\n  var currentRule = rule\n  while (currentRule.parentRule) {\n    var rules = Array.from(currentRule.parentRule.cssRules)\n    var index = rules.indexOf(currentRule)\n    path.unshift(index)\n    currentRule = currentRule.parentRule\n  }\n  // A rule may not be attached to a stylesheet\n  if (!currentRule.parentStyleSheet) {\n    return\n  }\n\n  var rules = Array.from(currentRule.parentStyleSheet.cssRules)\n  var index = rules.indexOf(currentRule)\n  path.unshift(index)\n\n  return path\n}\n"],"mappings":"AAAA,SAASA,MAAM,EAAEC,YAAY,QAAQ,yBAAyB;AAC9D,SAASC,UAAU,QAAQ,gBAAgB;AAE3C,OAAO,SAASC,YAAYA,CAACC,KAAK,EAAE;EAClC,OAAOC,OAAO,CAACD,KAAK,CAACE,cAAc,CAAC;AACtC;AAEA,OAAO,SAASC,OAAOA,CAACC,IAAI,EAAEC,QAAQ,EAAE;EACtCC,KAAK,CAACC,SAAS,CAACJ,OAAO,CAACK,IAAI,CAACJ,IAAI,EAAEC,QAAQ,CAAC;AAC9C;AAEA,OAAO,SAASI,2BAA2BA,CAACC,MAAM,EAAEC,IAAI,EAAE;EACxD,OAAO;IACLA,IAAI,EAAEf,MAAM,CACV;MACEc,MAAM,EAAEA;IACV,CAAC,EACDC,IACF,CAAC;IACDC,IAAI,EAAEd,UAAU,CAACe,mBAAmB;IACpCC,SAAS,EAAEjB,YAAY,CAAC;EAC1B,CAAC;AACH;AAEA,OAAO,SAASkB,sBAAsBA,CAACC,IAAI,EAAE;EAC3C,IAAIC,IAAI,GAAG,EAAE;EACb,IAAIC,WAAW,GAAGF,IAAI;EACtB,OAAOE,WAAW,CAACC,UAAU,EAAE;IAC7B,IAAIC,KAAK,GAAGd,KAAK,CAACe,IAAI,CAACH,WAAW,CAACC,UAAU,CAACG,QAAQ,CAAC;IACvD,IAAIC,KAAK,GAAGH,KAAK,CAACI,OAAO,CAACN,WAAW,CAAC;IACtCD,IAAI,CAACQ,OAAO,CAACF,KAAK,CAAC;IACnBL,WAAW,GAAGA,WAAW,CAACC,UAAU;EACtC;EACA;EACA,IAAI,CAACD,WAAW,CAACQ,gBAAgB,EAAE;IACjC;EACF;EAEA,IAAIN,KAAK,GAAGd,KAAK,CAACe,IAAI,CAACH,WAAW,CAACQ,gBAAgB,CAACJ,QAAQ,CAAC;EAC7D,IAAIC,KAAK,GAAGH,KAAK,CAACI,OAAO,CAACN,WAAW,CAAC;EACtCD,IAAI,CAACQ,OAAO,CAACF,KAAK,CAAC;EAEnB,OAAON,IAAI;AACb","ignoreList":[]}