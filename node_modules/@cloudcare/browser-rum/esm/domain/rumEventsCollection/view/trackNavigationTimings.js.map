{"version":3,"file":"trackNavigationTimings.js","names":["LifeCycleEventType","relativeNow","trackNavigationTimings","lifeCycle","callback","subscribe","PERFORMANCE_ENTRIES_COLLECTED","entries","i","length","entry","entryType","fetchStart","responseEnd","domComplete","domContentLoaded","domContentLoadedEventEnd","domInteractive","loadEvent","loadEventEnd","loadEventStart","domContentLoadedEventStart","firstByte","responseStart","undefined","stop","unsubscribe"],"sources":["../../../../src/domain/rumEventsCollection/view/trackNavigationTimings.js"],"sourcesContent":["import { LifeCycleEventType, relativeNow } from '@cloudcare/browser-core'\nexport function trackNavigationTimings(lifeCycle, callback) {\n  var subscribe = lifeCycle.subscribe(\n    LifeCycleEventType.PERFORMANCE_ENTRIES_COLLECTED,\n    function (entries) {\n      for (var i = 0; i < entries.length; i++) {\n        var entry = entries[i]\n        if (entry.entryType === 'navigation') {\n          callback({\n            fetchStart: entry.fetchStart,\n            responseEnd: entry.responseEnd,\n            domComplete: entry.domComplete,\n            domContentLoaded: entry.domContentLoadedEventEnd,\n            domInteractive: entry.domInteractive,\n            loadEvent: entry.loadEventEnd,\n            loadEventEnd: entry.loadEventEnd,\n            loadEventStart: entry.loadEventStart,\n            domContentLoadedEventEnd: entry.domContentLoadedEventEnd,\n            domContentLoadedEventStart: entry.domContentLoadedEventStart,\n            // In some cases the value reported is negative or is larger\n            // than the current page time. Ignore these cases:\n            // https://github.com/GoogleChrome/web-vitals/issues/137\n            // https://github.com/GoogleChrome/web-vitals/issues/162\n            firstByte:\n              entry.responseStart >= 0 && entry.responseStart <= relativeNow()\n                ? entry.responseStart\n                : undefined\n          })\n        }\n      }\n    }\n  )\n\n  return { stop: subscribe.unsubscribe }\n}\n"],"mappings":"AAAA,SAASA,kBAAkB,EAAEC,WAAW,QAAQ,yBAAyB;AACzE,OAAO,SAASC,sBAAsBA,CAACC,SAAS,EAAEC,QAAQ,EAAE;EAC1D,IAAIC,SAAS,GAAGF,SAAS,CAACE,SAAS,CACjCL,kBAAkB,CAACM,6BAA6B,EAChD,UAAUC,OAAO,EAAE;IACjB,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGD,OAAO,CAACE,MAAM,EAAED,CAAC,EAAE,EAAE;MACvC,IAAIE,KAAK,GAAGH,OAAO,CAACC,CAAC,CAAC;MACtB,IAAIE,KAAK,CAACC,SAAS,KAAK,YAAY,EAAE;QACpCP,QAAQ,CAAC;UACPQ,UAAU,EAAEF,KAAK,CAACE,UAAU;UAC5BC,WAAW,EAAEH,KAAK,CAACG,WAAW;UAC9BC,WAAW,EAAEJ,KAAK,CAACI,WAAW;UAC9BC,gBAAgB,EAAEL,KAAK,CAACM,wBAAwB;UAChDC,cAAc,EAAEP,KAAK,CAACO,cAAc;UACpCC,SAAS,EAAER,KAAK,CAACS,YAAY;UAC7BA,YAAY,EAAET,KAAK,CAACS,YAAY;UAChCC,cAAc,EAAEV,KAAK,CAACU,cAAc;UACpCJ,wBAAwB,EAAEN,KAAK,CAACM,wBAAwB;UACxDK,0BAA0B,EAAEX,KAAK,CAACW,0BAA0B;UAC5D;UACA;UACA;UACA;UACAC,SAAS,EACPZ,KAAK,CAACa,aAAa,IAAI,CAAC,IAAIb,KAAK,CAACa,aAAa,IAAItB,WAAW,CAAC,CAAC,GAC5DS,KAAK,CAACa,aAAa,GACnBC;QACR,CAAC,CAAC;MACJ;IACF;EACF,CACF,CAAC;EAED,OAAO;IAAEC,IAAI,EAAEpB,SAAS,CAACqB;EAAY,CAAC;AACxC","ignoreList":[]}