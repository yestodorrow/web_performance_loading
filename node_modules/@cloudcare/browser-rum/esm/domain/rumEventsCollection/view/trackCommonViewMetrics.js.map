{"version":3,"file":"trackCommonViewMetrics.js","names":["trackScrollMetrics","trackLoadingTime","trackCumulativeLayoutShift","trackInteractionToNextPaint","trackCommonViewMetrics","lifeCycle","domMutationObservable","configuration","scheduleViewUpdate","loadingType","viewStart","commonViewMetrics","_trackLoadingTime","newLoadingTime","loadingTime","stopLoadingTimeTracking","stop","setLoadEvent","_trackScrollMetrics","newScrollMetrics","scroll","stopScrollMetricsTracking","stopCLSTracking","_trackCumulativeLayoutShift","cumulativeLayoutShift","_trackInteractionToNextPaint","relative","stopINPTracking","getInteractionToNextPaint","setViewEnd","getCommonViewMetrics","interactionToNextPaint"],"sources":["../../../../src/domain/rumEventsCollection/view/trackCommonViewMetrics.js"],"sourcesContent":["import { trackScrollMetrics } from './trackScrollMetrics'\nimport { trackLoadingTime } from './trackLoadingTime'\nimport { trackCumulativeLayoutShift } from './trackCumulativeLayoutShift'\nimport { trackInteractionToNextPaint } from './trackInteractionToNextPaint'\n\nexport function trackCommonViewMetrics(\n  lifeCycle,\n  domMutationObservable,\n  configuration,\n  scheduleViewUpdate,\n  loadingType,\n  viewStart\n) {\n  var commonViewMetrics = {}\n  var _trackLoadingTime = trackLoadingTime(\n    lifeCycle,\n    domMutationObservable,\n    configuration,\n    loadingType,\n    viewStart,\n    function (newLoadingTime) {\n      commonViewMetrics.loadingTime = newLoadingTime\n      scheduleViewUpdate()\n    }\n  )\n  var stopLoadingTimeTracking = _trackLoadingTime.stop\n  var setLoadEvent = _trackLoadingTime.setLoadEvent\n  var _trackScrollMetrics = trackScrollMetrics(\n    configuration,\n    viewStart,\n    function (newScrollMetrics) {\n      commonViewMetrics.scroll = newScrollMetrics\n    }\n  )\n  var stopScrollMetricsTracking = _trackScrollMetrics.stop\n  var stopCLSTracking\n  var _trackCumulativeLayoutShift = trackCumulativeLayoutShift(\n    lifeCycle,\n    configuration,\n    function (cumulativeLayoutShift) {\n      commonViewMetrics.cumulativeLayoutShift = cumulativeLayoutShift\n      scheduleViewUpdate()\n    }\n  )\n  var stopCLSTracking = _trackCumulativeLayoutShift.stop\n  var _trackInteractionToNextPaint = trackInteractionToNextPaint(\n    configuration,\n    viewStart.relative,\n    loadingType,\n    lifeCycle\n  )\n  var stopINPTracking = _trackInteractionToNextPaint.stop\n  var getInteractionToNextPaint =\n    _trackInteractionToNextPaint.getInteractionToNextPaint\n  var setViewEnd = _trackInteractionToNextPaint.setViewEnd\n  return {\n    stop: function () {\n      stopLoadingTimeTracking()\n      stopCLSTracking()\n      stopScrollMetricsTracking()\n    },\n    stopINPTracking: stopINPTracking,\n    setLoadEvent: setLoadEvent,\n    setViewEnd: setViewEnd,\n    getCommonViewMetrics: function () {\n      commonViewMetrics.interactionToNextPaint = getInteractionToNextPaint()\n      return commonViewMetrics\n    }\n  }\n}\n"],"mappings":"AAAA,SAASA,kBAAkB,QAAQ,sBAAsB;AACzD,SAASC,gBAAgB,QAAQ,oBAAoB;AACrD,SAASC,0BAA0B,QAAQ,8BAA8B;AACzE,SAASC,2BAA2B,QAAQ,+BAA+B;AAE3E,OAAO,SAASC,sBAAsBA,CACpCC,SAAS,EACTC,qBAAqB,EACrBC,aAAa,EACbC,kBAAkB,EAClBC,WAAW,EACXC,SAAS,EACT;EACA,IAAIC,iBAAiB,GAAG,CAAC,CAAC;EAC1B,IAAIC,iBAAiB,GAAGX,gBAAgB,CACtCI,SAAS,EACTC,qBAAqB,EACrBC,aAAa,EACbE,WAAW,EACXC,SAAS,EACT,UAAUG,cAAc,EAAE;IACxBF,iBAAiB,CAACG,WAAW,GAAGD,cAAc;IAC9CL,kBAAkB,CAAC,CAAC;EACtB,CACF,CAAC;EACD,IAAIO,uBAAuB,GAAGH,iBAAiB,CAACI,IAAI;EACpD,IAAIC,YAAY,GAAGL,iBAAiB,CAACK,YAAY;EACjD,IAAIC,mBAAmB,GAAGlB,kBAAkB,CAC1CO,aAAa,EACbG,SAAS,EACT,UAAUS,gBAAgB,EAAE;IAC1BR,iBAAiB,CAACS,MAAM,GAAGD,gBAAgB;EAC7C,CACF,CAAC;EACD,IAAIE,yBAAyB,GAAGH,mBAAmB,CAACF,IAAI;EACxD,IAAIM,eAAe;EACnB,IAAIC,2BAA2B,GAAGrB,0BAA0B,CAC1DG,SAAS,EACTE,aAAa,EACb,UAAUiB,qBAAqB,EAAE;IAC/Bb,iBAAiB,CAACa,qBAAqB,GAAGA,qBAAqB;IAC/DhB,kBAAkB,CAAC,CAAC;EACtB,CACF,CAAC;EACD,IAAIc,eAAe,GAAGC,2BAA2B,CAACP,IAAI;EACtD,IAAIS,4BAA4B,GAAGtB,2BAA2B,CAC5DI,aAAa,EACbG,SAAS,CAACgB,QAAQ,EAClBjB,WAAW,EACXJ,SACF,CAAC;EACD,IAAIsB,eAAe,GAAGF,4BAA4B,CAACT,IAAI;EACvD,IAAIY,yBAAyB,GAC3BH,4BAA4B,CAACG,yBAAyB;EACxD,IAAIC,UAAU,GAAGJ,4BAA4B,CAACI,UAAU;EACxD,OAAO;IACLb,IAAI,EAAE,SAAAA,KAAA,EAAY;MAChBD,uBAAuB,CAAC,CAAC;MACzBO,eAAe,CAAC,CAAC;MACjBD,yBAAyB,CAAC,CAAC;IAC7B,CAAC;IACDM,eAAe,EAAEA,eAAe;IAChCV,YAAY,EAAEA,YAAY;IAC1BY,UAAU,EAAEA,UAAU;IACtBC,oBAAoB,EAAE,SAAAA,qBAAA,EAAY;MAChCnB,iBAAiB,CAACoB,sBAAsB,GAAGH,yBAAyB,CAAC,CAAC;MACtE,OAAOjB,iBAAiB;IAC1B;EACF,CAAC;AACH","ignoreList":[]}