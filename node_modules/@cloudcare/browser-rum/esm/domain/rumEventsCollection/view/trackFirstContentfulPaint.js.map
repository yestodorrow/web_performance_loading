{"version":3,"file":"trackFirstContentfulPaint.js","names":["find","LifeCycleEventType","ONE_MINUTE","TIMING_MAXIMUM_DELAY","trackFirstContentfulPaint","lifeCycle","firstHidden","callback","subscribe","PERFORMANCE_ENTRIES_COLLECTED","entries","fcpEntry","entry","entryType","name","startTime","geTimeStamp","stop","unsubscribe"],"sources":["../../../../src/domain/rumEventsCollection/view/trackFirstContentfulPaint.js"],"sourcesContent":["import { find, LifeCycleEventType, ONE_MINUTE } from '@cloudcare/browser-core'\nexport var TIMING_MAXIMUM_DELAY = 10 * ONE_MINUTE\nexport function trackFirstContentfulPaint(lifeCycle, firstHidden, callback) {\n  var subscribe = lifeCycle.subscribe(\n    LifeCycleEventType.PERFORMANCE_ENTRIES_COLLECTED,\n    function (entries) {\n      var fcpEntry = find(entries, function (entry) {\n        return (\n          entry.entryType === 'paint' &&\n          entry.name === 'first-contentful-paint' &&\n          entry.startTime < firstHidden.geTimeStamp() &&\n          entry.startTime < TIMING_MAXIMUM_DELAY\n        )\n      })\n      if (fcpEntry) {\n        callback(fcpEntry.startTime)\n      }\n    }\n  )\n  return { stop: subscribe.unsubscribe }\n}\n"],"mappings":"AAAA,SAASA,IAAI,EAAEC,kBAAkB,EAAEC,UAAU,QAAQ,yBAAyB;AAC9E,OAAO,IAAIC,oBAAoB,GAAG,EAAE,GAAGD,UAAU;AACjD,OAAO,SAASE,yBAAyBA,CAACC,SAAS,EAAEC,WAAW,EAAEC,QAAQ,EAAE;EAC1E,IAAIC,SAAS,GAAGH,SAAS,CAACG,SAAS,CACjCP,kBAAkB,CAACQ,6BAA6B,EAChD,UAAUC,OAAO,EAAE;IACjB,IAAIC,QAAQ,GAAGX,IAAI,CAACU,OAAO,EAAE,UAAUE,KAAK,EAAE;MAC5C,OACEA,KAAK,CAACC,SAAS,KAAK,OAAO,IAC3BD,KAAK,CAACE,IAAI,KAAK,wBAAwB,IACvCF,KAAK,CAACG,SAAS,GAAGT,WAAW,CAACU,WAAW,CAAC,CAAC,IAC3CJ,KAAK,CAACG,SAAS,GAAGZ,oBAAoB;IAE1C,CAAC,CAAC;IACF,IAAIQ,QAAQ,EAAE;MACZJ,QAAQ,CAACI,QAAQ,CAACI,SAAS,CAAC;IAC9B;EACF,CACF,CAAC;EACD,OAAO;IAAEE,IAAI,EAAET,SAAS,CAACU;EAAY,CAAC;AACxC","ignoreList":[]}