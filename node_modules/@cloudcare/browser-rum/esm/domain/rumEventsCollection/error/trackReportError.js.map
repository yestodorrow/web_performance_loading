{"version":3,"file":"trackReportError.js","names":["clocksNow","ErrorHandling","ErrorSource","initReportObservable","RawReportType","trackReportError","configuration","errorObservable","subscription","cspViolation","intervention","subscribe","reportError","notify","startClocks","message","stack","type","subtype","source","REPORT","handling","UNHANDLED","stop","unsubscribe"],"sources":["../../../../src/domain/rumEventsCollection/error/trackReportError.js"],"sourcesContent":["import {\n  clocksNow,\n  ErrorHandling,\n  ErrorSource,\n  initReportObservable,\n  RawReportType\n} from '@cloudcare/browser-core'\n\nexport function trackReportError(configuration, errorObservable) {\n  var subscription = initReportObservable(configuration, [\n    (RawReportType.cspViolation, RawReportType.intervention)\n  ]).subscribe(function (reportError) {\n    errorObservable.notify({\n      startClocks: clocksNow(),\n      message: reportError.message,\n      stack: reportError.stack,\n      type: reportError.subtype,\n      source: ErrorSource.REPORT,\n      handling: ErrorHandling.UNHANDLED\n    })\n  })\n\n  return {\n    stop: function () {\n      subscription.unsubscribe()\n    }\n  }\n}\n"],"mappings":"AAAA,SACEA,SAAS,EACTC,aAAa,EACbC,WAAW,EACXC,oBAAoB,EACpBC,aAAa,QACR,yBAAyB;AAEhC,OAAO,SAASC,gBAAgBA,CAACC,aAAa,EAAEC,eAAe,EAAE;EAC/D,IAAIC,YAAY,GAAGL,oBAAoB,CAACG,aAAa,EAAE,EACpDF,aAAa,CAACK,YAAY,EAAEL,aAAa,CAACM,YAAY,EACxD,CAAC,CAACC,SAAS,CAAC,UAAUC,WAAW,EAAE;IAClCL,eAAe,CAACM,MAAM,CAAC;MACrBC,WAAW,EAAEd,SAAS,CAAC,CAAC;MACxBe,OAAO,EAAEH,WAAW,CAACG,OAAO;MAC5BC,KAAK,EAAEJ,WAAW,CAACI,KAAK;MACxBC,IAAI,EAAEL,WAAW,CAACM,OAAO;MACzBC,MAAM,EAAEjB,WAAW,CAACkB,MAAM;MAC1BC,QAAQ,EAAEpB,aAAa,CAACqB;IAC1B,CAAC,CAAC;EACJ,CAAC,CAAC;EAEF,OAAO;IACLC,IAAI,EAAE,SAAAA,KAAA,EAAY;MAChBf,YAAY,CAACgB,WAAW,CAAC,CAAC;IAC5B;EACF,CAAC;AACH","ignoreList":[]}