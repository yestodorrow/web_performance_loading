{"version":3,"file":"ddtraceTracer.js","names":["TraceIdentifier","getCrypto","DDtraceTracer","traceSampled","_spanId","_traceId","_traceSampled","prototype","isTracingSupported","undefined","getSpanId","toDecimalString","getTraceId","makeTracingHeaders"],"sources":["../../../src/domain/tracing/ddtraceTracer.js"],"sourcesContent":["import { TraceIdentifier, getCrypto } from './traceIdentifier'\n/**\n *\n * @param {*} configuration  配置信息\n */\nexport function DDtraceTracer(traceSampled) {\n  this._spanId = new TraceIdentifier()\n  this._traceId = new TraceIdentifier()\n  this._traceSampled = traceSampled\n}\nDDtraceTracer.prototype = {\n  isTracingSupported: function () {\n    return getCrypto() !== undefined\n  },\n  getSpanId: function () {\n    return this._spanId.toDecimalString()\n  },\n  getTraceId: function () {\n    return this._traceId.toDecimalString()\n  },\n  makeTracingHeaders: function () {\n    return {\n      'x-datadog-origin': 'rum',\n      'x-datadog-parent-id': this.getSpanId(),\n      'x-datadog-sampling-priority': this._traceSampled ? '2' : '-1',\n      'x-datadog-trace-id': this.getTraceId()\n    }\n  }\n}\n"],"mappings":"AAAA,SAASA,eAAe,EAAEC,SAAS,QAAQ,mBAAmB;AAC9D;AACA;AACA;AACA;AACA,OAAO,SAASC,aAAaA,CAACC,YAAY,EAAE;EAC1C,IAAI,CAACC,OAAO,GAAG,IAAIJ,eAAe,CAAC,CAAC;EACpC,IAAI,CAACK,QAAQ,GAAG,IAAIL,eAAe,CAAC,CAAC;EACrC,IAAI,CAACM,aAAa,GAAGH,YAAY;AACnC;AACAD,aAAa,CAACK,SAAS,GAAG;EACxBC,kBAAkB,EAAE,SAAAA,mBAAA,EAAY;IAC9B,OAAOP,SAAS,CAAC,CAAC,KAAKQ,SAAS;EAClC,CAAC;EACDC,SAAS,EAAE,SAAAA,UAAA,EAAY;IACrB,OAAO,IAAI,CAACN,OAAO,CAACO,eAAe,CAAC,CAAC;EACvC,CAAC;EACDC,UAAU,EAAE,SAAAA,WAAA,EAAY;IACtB,OAAO,IAAI,CAACP,QAAQ,CAACM,eAAe,CAAC,CAAC;EACxC,CAAC;EACDE,kBAAkB,EAAE,SAAAA,mBAAA,EAAY;IAC9B,OAAO;MACL,kBAAkB,EAAE,KAAK;MACzB,qBAAqB,EAAE,IAAI,CAACH,SAAS,CAAC,CAAC;MACvC,6BAA6B,EAAE,IAAI,CAACJ,aAAa,GAAG,GAAG,GAAG,IAAI;MAC9D,oBAAoB,EAAE,IAAI,CAACM,UAAU,CAAC;IACxC,CAAC;EACH;AACF,CAAC","ignoreList":[]}