{"version":3,"file":"performanceCollection.js","names":["addEventListeners","getRelativeTime","isNumber","includes","each","extend","filter","dateNow","relativeNow","DOM_EVENT","LifeCycleEventType","runOnReadyState","setTimeout","addEventListener","monitor","assign","FAKE_INITIAL_DOCUMENT","isAllowedRequestUrl","supportPerformanceObject","window","performance","undefined","supportPerformanceTimingEvent","entryType","PerformanceObserver","supportedEntryTypes","startPerformanceCollection","lifeCycle","configuration","retrieveInitialDocumentResourceTiming","timing","handleRumPerformanceEntries","performanceEntries","getEntries","handlePerformanceEntryList","entries","mainEntries","experimentalEntries","type","observer","observe","buffered","durationThreshold","e","push","mainObserver","entryTypes","clearResourceTimings","retrieveNavigationTiming","retrieveFirstInputTiming","callback","forcedAttributes","initiatorType","traceId","toJSON","getEntriesByType","length","navigationEntry","relativePerformanceTiming","computeRelativePerformanceTiming","decodedBodySize","duration","responseEnd","name","location","href","startTime","sendFakeTiming","startTimeStamp","timingSent","listeners","CLICK","MOUSE_DOWN","KEY_DOWN","TOUCH_START","POINTER_DOWN","evt","cancelable","processingStart","processingEnd","timeStamp","sendTimingIfPointerIsNotCancelled","sendTiming","passive","capture","removeEventListeners","stop","POINTER_UP","POINTER_CANCEL","event","once","delay","result","key","rumPerformanceEntries","entry","rumAllowedPerformanceEntries","isIncompleteNavigation","isForbiddenResource","notify","PERFORMANCE_ENTRIES_COLLECTED","loadEventEnd"],"sources":["../../src/domain/performanceCollection.js"],"sourcesContent":["import {\n  addEventListeners,\n  getRelativeTime,\n  isNumber,\n  includes,\n  each,\n  extend,\n  filter,\n  dateNow,\n  relativeNow,\n  DOM_EVENT,\n  LifeCycleEventType,\n  runOnReadyState,\n  setTimeout,\n  addEventListener,\n  monitor,\n  assign\n} from '@cloudcare/browser-core'\nimport {\n  FAKE_INITIAL_DOCUMENT,\n  isAllowedRequestUrl\n} from './rumEventsCollection/resource/resourceUtils'\nfunction supportPerformanceObject() {\n  return window.performance !== undefined && 'getEntries' in performance\n}\n\nexport function supportPerformanceTimingEvent(entryType) {\n  return (\n    window.PerformanceObserver &&\n    PerformanceObserver.supportedEntryTypes !== undefined &&\n    includes(PerformanceObserver.supportedEntryTypes, entryType)\n  )\n}\nexport function startPerformanceCollection(lifeCycle, configuration) {\n  retrieveInitialDocumentResourceTiming(function (timing) {\n    handleRumPerformanceEntries(lifeCycle, configuration, [timing])\n  })\n\n  if (supportPerformanceObject()) {\n    var performanceEntries = performance.getEntries()\n    // Because the performance entry list can be quite large\n    // delay the computation to prevent the SDK from blocking the main thread on init\n    setTimeout(function () {\n      handleRumPerformanceEntries(lifeCycle, configuration, performanceEntries)\n    })\n  }\n  if (window.PerformanceObserver) {\n    var handlePerformanceEntryList = monitor(function (entries) {\n      handleRumPerformanceEntries(\n        lifeCycle,\n        configuration,\n        entries.getEntries()\n      )\n    })\n    var mainEntries = ['resource', 'navigation', 'longtask', 'paint']\n    var experimentalEntries = [\n      'largest-contentful-paint',\n      'first-input',\n      'layout-shift',\n      'event'\n    ]\n    try {\n      // Experimental entries are not retrieved by performance.getEntries()\n      // use a single PerformanceObserver with buffered flag by type\n      // to get values that could happen before SDK init\n      each(experimentalEntries, function (type) {\n        var observer = new PerformanceObserver(handlePerformanceEntryList)\n        observer.observe({\n          type: type,\n          buffered: true,\n          // durationThreshold only impact PerformanceEventTiming entries used for INP computation which requires a threshold at 40 (default is 104ms)\n          // cf: https://github.com/GoogleChrome/web-vitals/blob/3806160ffbc93c3c4abf210a167b81228172b31c/src/onINP.ts#L209\n          durationThreshold: 40\n        })\n      })\n    } catch (e) {\n      // Some old browser versions (ex: chrome 67) don't support the PerformanceObserver type and buffered options\n      // In these cases, fallback to PerformanceObserver with entryTypes\n      each(experimentalEntries, function (type) {\n        mainEntries.push(type)\n      })\n    }\n    var mainObserver = new PerformanceObserver(handlePerformanceEntryList)\n    mainObserver.observe({ entryTypes: mainEntries })\n    if (supportPerformanceObject() && 'addEventListener' in performance) {\n      // https://bugzilla.mozilla.org/show_bug.cgi?id=1559377\n      addEventListener(performance, 'resourcetimingbufferfull', function () {\n        performance.clearResourceTimings()\n      })\n    }\n  }\n  if (!supportPerformanceTimingEvent('navigation')) {\n    retrieveNavigationTiming(function (timing) {\n      handleRumPerformanceEntries(lifeCycle, configuration, [timing])\n    })\n  }\n  if (!supportPerformanceTimingEvent('first-input')) {\n    retrieveFirstInputTiming(function (timing) {\n      return handleRumPerformanceEntries(lifeCycle, configuration, [timing])\n    })\n  }\n}\n\nexport function retrieveInitialDocumentResourceTiming(callback) {\n  runOnReadyState('interactive', function () {\n    var timing\n\n    var forcedAttributes = {\n      entryType: 'resource',\n      initiatorType: FAKE_INITIAL_DOCUMENT,\n      traceId: '',\n      toJSON: function () {\n        return assign({}, timing, { toJSON: undefined })\n      }\n    }\n    if (\n      supportPerformanceTimingEvent('navigation') &&\n      performance.getEntriesByType('navigation').length > 0\n    ) {\n      var navigationEntry = performance.getEntriesByType('navigation')[0]\n      timing = extend(navigationEntry.toJSON(), forcedAttributes)\n    } else {\n      var relativePerformanceTiming = computeRelativePerformanceTiming()\n      timing = extend(\n        relativePerformanceTiming,\n        {\n          decodedBodySize: 0,\n          duration: relativePerformanceTiming.responseEnd,\n          name: window.location.href,\n          startTime: 0\n        },\n        forcedAttributes\n      )\n    }\n    callback(timing)\n  })\n}\n\nfunction retrieveNavigationTiming(callback) {\n  function sendFakeTiming() {\n    callback(\n      extend(computeRelativePerformanceTiming(), { entryType: 'navigation' })\n    )\n  }\n\n  runOnReadyState('complete', function () {\n    // Send it a bit after the actual load event, so the \"loadEventEnd\" timing is accurate\n    setTimeout(sendFakeTiming)\n  })\n}\n\n/**\n * first-input timing entry polyfill based on\n * https://github.com/GoogleChrome/web-vitals/blob/master/src/lib/polyfills/firstInputPolyfill.ts\n */\nfunction retrieveFirstInputTiming(callback) {\n  var startTimeStamp = dateNow()\n  var timingSent = false\n\n  var listeners = addEventListeners(\n    window,\n    [\n      DOM_EVENT.CLICK,\n      DOM_EVENT.MOUSE_DOWN,\n      DOM_EVENT.KEY_DOWN,\n      DOM_EVENT.TOUCH_START,\n      DOM_EVENT.POINTER_DOWN\n    ],\n    function (evt) {\n      // Only count cancelable events, which should trigger behavior important to the user.\n      if (!evt.cancelable) {\n        return\n      }\n\n      // This timing will be used to compute the \"first Input delay\", which is the delta between\n      // when the system received the event (e.g. evt.timeStamp) and when it could run the callback\n      // (e.g. performance.now()).\n      var timing = {\n        entryType: 'first-input',\n        processingStart: relativeNow(),\n        processingEnd: relativeNow(),\n        startTime: evt.timeStamp,\n        duration: 0,\n        name: ''\n      }\n\n      if (evt.type === DOM_EVENT.POINTER_DOWN) {\n        sendTimingIfPointerIsNotCancelled(timing)\n      } else {\n        sendTiming(timing)\n      }\n    },\n    { passive: true, capture: true }\n  )\n  var removeEventListeners = listeners.stop\n\n  /**\n   * Pointer events are a special case, because they can trigger main or compositor thread behavior.\n   * We differenciate these cases based on whether or not we see a pointercancel event, which are\n   * fired when we scroll. If we're scrolling we don't need to report input delay since FID excludes\n   * scrolling and pinch/zooming.\n   */\n  function sendTimingIfPointerIsNotCancelled(timing) {\n    addEventListeners(\n      window,\n      [DOM_EVENT.POINTER_UP, DOM_EVENT.POINTER_CANCEL],\n      function (event) {\n        if (event.type === DOM_EVENT.POINTER_UP) {\n          sendTiming(timing)\n        }\n      },\n      { once: true }\n    )\n  }\n\n  function sendTiming(timing) {\n    if (!timingSent) {\n      timingSent = true\n      removeEventListeners()\n      // In some cases the recorded delay is clearly wrong, e.g. it's negative or it's larger than\n      // the time between now and when the page was loaded.\n      // - https://github.com/GoogleChromeLabs/first-input-delay/issues/4\n      // - https://github.com/GoogleChromeLabs/first-input-delay/issues/6\n      // - https://github.com/GoogleChromeLabs/first-input-delay/issues/7\n      var delay = timing.processingStart - timing.startTime\n      if (delay >= 0 && delay < dateNow() - startTimeStamp) {\n        callback(timing)\n      }\n    }\n  }\n}\n\nfunction computeRelativePerformanceTiming() {\n  var result = {}\n  var timing = performance.timing\n  for (var key in timing) {\n    if (isNumber(timing[key])) {\n      result[key] = timing[key] === 0 ? 0 : getRelativeTime(timing[key])\n    }\n  }\n  return result\n}\n\nfunction handleRumPerformanceEntries(lifeCycle, configuration, entries) {\n  var rumPerformanceEntries = filter(entries, function (entry) {\n    return (\n      entry.entryType === 'resource' ||\n      entry.entryType === 'navigation' ||\n      entry.entryType === 'paint' ||\n      entry.entryType === 'longtask' ||\n      entry.entryType === 'largest-contentful-paint' ||\n      entry.entryType === 'first-input' ||\n      entry.entryType === 'layout-shift' ||\n      entry.entryType === 'event'\n    )\n  })\n\n  var rumAllowedPerformanceEntries = filter(\n    rumPerformanceEntries,\n    function (entry) {\n      return (\n        !isIncompleteNavigation(entry) &&\n        !isForbiddenResource(configuration, entry)\n      )\n    }\n  )\n\n  if (rumAllowedPerformanceEntries.length) {\n    lifeCycle.notify(\n      LifeCycleEventType.PERFORMANCE_ENTRIES_COLLECTED,\n      rumAllowedPerformanceEntries\n    )\n  }\n}\n\nfunction isIncompleteNavigation(entry) {\n  return entry.entryType === 'navigation' && entry.loadEventEnd <= 0\n}\n\nfunction isForbiddenResource(configuration, entry) {\n  return (\n    entry.entryType === 'resource' &&\n    !isAllowedRequestUrl(configuration, entry.name)\n  )\n}\n"],"mappings":"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","ignoreList":[]}