{"version":3,"file":"ddtraceTracer.js","names":["_traceIdentifier","require","DDtraceTracer","traceSampled","_spanId","TraceIdentifier","_traceId","_traceSampled","prototype","isTracingSupported","getCrypto","undefined","getSpanId","toDecimalString","getTraceId","makeTracingHeaders"],"sources":["../../../src/domain/tracing/ddtraceTracer.js"],"sourcesContent":["import { TraceIdentifier, getCrypto } from './traceIdentifier'\n/**\n *\n * @param {*} configuration  配置信息\n */\nexport function DDtraceTracer(traceSampled) {\n  this._spanId = new TraceIdentifier()\n  this._traceId = new TraceIdentifier()\n  this._traceSampled = traceSampled\n}\nDDtraceTracer.prototype = {\n  isTracingSupported: function () {\n    return getCrypto() !== undefined\n  },\n  getSpanId: function () {\n    return this._spanId.toDecimalString()\n  },\n  getTraceId: function () {\n    return this._traceId.toDecimalString()\n  },\n  makeTracingHeaders: function () {\n    return {\n      'x-datadog-origin': 'rum',\n      'x-datadog-parent-id': this.getSpanId(),\n      'x-datadog-sampling-priority': this._traceSampled ? '2' : '-1',\n      'x-datadog-trace-id': this.getTraceId()\n    }\n  }\n}\n"],"mappings":";;;;;;AAAA,IAAAA,gBAAA,GAAAC,OAAA;AACA;AACA;AACA;AACA;AACO,SAASC,aAAaA,CAACC,YAAY,EAAE;EAC1C,IAAI,CAACC,OAAO,GAAG,IAAIC,gCAAe,CAAC,CAAC;EACpC,IAAI,CAACC,QAAQ,GAAG,IAAID,gCAAe,CAAC,CAAC;EACrC,IAAI,CAACE,aAAa,GAAGJ,YAAY;AACnC;AACAD,aAAa,CAACM,SAAS,GAAG;EACxBC,kBAAkB,EAAE,SAAAA,mBAAA,EAAY;IAC9B,OAAO,IAAAC,0BAAS,EAAC,CAAC,KAAKC,SAAS;EAClC,CAAC;EACDC,SAAS,EAAE,SAAAA,UAAA,EAAY;IACrB,OAAO,IAAI,CAACR,OAAO,CAACS,eAAe,CAAC,CAAC;EACvC,CAAC;EACDC,UAAU,EAAE,SAAAA,WAAA,EAAY;IACtB,OAAO,IAAI,CAACR,QAAQ,CAACO,eAAe,CAAC,CAAC;EACxC,CAAC;EACDE,kBAAkB,EAAE,SAAAA,mBAAA,EAAY;IAC9B,OAAO;MACL,kBAAkB,EAAE,KAAK;MACzB,qBAAqB,EAAE,IAAI,CAACH,SAAS,CAAC,CAAC;MACvC,6BAA6B,EAAE,IAAI,CAACL,aAAa,GAAG,GAAG,GAAG,IAAI;MAC9D,oBAAoB,EAAE,IAAI,CAACO,UAAU,CAAC;IACxC,CAAC;EACH;AACF,CAAC","ignoreList":[]}