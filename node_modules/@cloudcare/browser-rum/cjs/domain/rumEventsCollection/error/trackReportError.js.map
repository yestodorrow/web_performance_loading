{"version":3,"file":"trackReportError.js","names":["_browserCore","require","trackReportError","configuration","errorObservable","subscription","initReportObservable","RawReportType","cspViolation","intervention","subscribe","reportError","notify","startClocks","clocksNow","message","stack","type","subtype","source","ErrorSource","REPORT","handling","ErrorHandling","UNHANDLED","stop","unsubscribe"],"sources":["../../../../src/domain/rumEventsCollection/error/trackReportError.js"],"sourcesContent":["import {\n  clocksNow,\n  ErrorHandling,\n  ErrorSource,\n  initReportObservable,\n  RawReportType\n} from '@cloudcare/browser-core'\n\nexport function trackReportError(configuration, errorObservable) {\n  var subscription = initReportObservable(configuration, [\n    (RawReportType.cspViolation, RawReportType.intervention)\n  ]).subscribe(function (reportError) {\n    errorObservable.notify({\n      startClocks: clocksNow(),\n      message: reportError.message,\n      stack: reportError.stack,\n      type: reportError.subtype,\n      source: ErrorSource.REPORT,\n      handling: ErrorHandling.UNHANDLED\n    })\n  })\n\n  return {\n    stop: function () {\n      subscription.unsubscribe()\n    }\n  }\n}\n"],"mappings":";;;;;;AAAA,IAAAA,YAAA,GAAAC,OAAA;AAQO,SAASC,gBAAgBA,CAACC,aAAa,EAAEC,eAAe,EAAE;EAC/D,IAAIC,YAAY,GAAG,IAAAC,iCAAoB,EAACH,aAAa,EAAE,EACpDI,0BAAa,CAACC,YAAY,EAAED,0BAAa,CAACE,YAAY,EACxD,CAAC,CAACC,SAAS,CAAC,UAAUC,WAAW,EAAE;IAClCP,eAAe,CAACQ,MAAM,CAAC;MACrBC,WAAW,EAAE,IAAAC,sBAAS,EAAC,CAAC;MACxBC,OAAO,EAAEJ,WAAW,CAACI,OAAO;MAC5BC,KAAK,EAAEL,WAAW,CAACK,KAAK;MACxBC,IAAI,EAAEN,WAAW,CAACO,OAAO;MACzBC,MAAM,EAAEC,wBAAW,CAACC,MAAM;MAC1BC,QAAQ,EAAEC,0BAAa,CAACC;IAC1B,CAAC,CAAC;EACJ,CAAC,CAAC;EAEF,OAAO;IACLC,IAAI,EAAE,SAAAA,KAAA,EAAY;MAChBpB,YAAY,CAACqB,WAAW,CAAC,CAAC;IAC5B;EACF,CAAC;AACH","ignoreList":[]}