"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.trackReportError = trackReportError;
var _browserCore = require("@cloudcare/browser-core");
function trackReportError(configuration, errorObservable) {
  var subscription = (0, _browserCore.initReportObservable)(configuration, [(_browserCore.RawReportType.cspViolation, _browserCore.RawReportType.intervention)]).subscribe(function (reportError) {
    errorObservable.notify({
      startClocks: (0, _browserCore.clocksNow)(),
      message: reportError.message,
      stack: reportError.stack,
      type: reportError.subtype,
      source: _browserCore.ErrorSource.REPORT,
      handling: _browserCore.ErrorHandling.UNHANDLED
    });
  });
  return {
    stop: function stop() {
      subscription.unsubscribe();
    }
  };
}
//# sourceMappingURL=trackReportError.js.map