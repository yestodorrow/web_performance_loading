{"version":3,"file":"trackCommonViewMetrics.js","names":["_trackScrollMetrics2","require","_trackLoadingTime2","_trackCumulativeLayoutShift2","_trackInteractionToNextPaint2","trackCommonViewMetrics","lifeCycle","domMutationObservable","configuration","scheduleViewUpdate","loadingType","viewStart","commonViewMetrics","_trackLoadingTime","trackLoadingTime","newLoadingTime","loadingTime","stopLoadingTimeTracking","stop","setLoadEvent","_trackScrollMetrics","trackScrollMetrics","newScrollMetrics","scroll","stopScrollMetricsTracking","stopCLSTracking","_trackCumulativeLayoutShift","trackCumulativeLayoutShift","cumulativeLayoutShift","_trackInteractionToNextPaint","trackInteractionToNextPaint","relative","stopINPTracking","getInteractionToNextPaint","setViewEnd","getCommonViewMetrics","interactionToNextPaint"],"sources":["../../../../src/domain/rumEventsCollection/view/trackCommonViewMetrics.js"],"sourcesContent":["import { trackScrollMetrics } from './trackScrollMetrics'\nimport { trackLoadingTime } from './trackLoadingTime'\nimport { trackCumulativeLayoutShift } from './trackCumulativeLayoutShift'\nimport { trackInteractionToNextPaint } from './trackInteractionToNextPaint'\n\nexport function trackCommonViewMetrics(\n  lifeCycle,\n  domMutationObservable,\n  configuration,\n  scheduleViewUpdate,\n  loadingType,\n  viewStart\n) {\n  var commonViewMetrics = {}\n  var _trackLoadingTime = trackLoadingTime(\n    lifeCycle,\n    domMutationObservable,\n    configuration,\n    loadingType,\n    viewStart,\n    function (newLoadingTime) {\n      commonViewMetrics.loadingTime = newLoadingTime\n      scheduleViewUpdate()\n    }\n  )\n  var stopLoadingTimeTracking = _trackLoadingTime.stop\n  var setLoadEvent = _trackLoadingTime.setLoadEvent\n  var _trackScrollMetrics = trackScrollMetrics(\n    configuration,\n    viewStart,\n    function (newScrollMetrics) {\n      commonViewMetrics.scroll = newScrollMetrics\n    }\n  )\n  var stopScrollMetricsTracking = _trackScrollMetrics.stop\n  var stopCLSTracking\n  var _trackCumulativeLayoutShift = trackCumulativeLayoutShift(\n    lifeCycle,\n    configuration,\n    function (cumulativeLayoutShift) {\n      commonViewMetrics.cumulativeLayoutShift = cumulativeLayoutShift\n      scheduleViewUpdate()\n    }\n  )\n  var stopCLSTracking = _trackCumulativeLayoutShift.stop\n  var _trackInteractionToNextPaint = trackInteractionToNextPaint(\n    configuration,\n    viewStart.relative,\n    loadingType,\n    lifeCycle\n  )\n  var stopINPTracking = _trackInteractionToNextPaint.stop\n  var getInteractionToNextPaint =\n    _trackInteractionToNextPaint.getInteractionToNextPaint\n  var setViewEnd = _trackInteractionToNextPaint.setViewEnd\n  return {\n    stop: function () {\n      stopLoadingTimeTracking()\n      stopCLSTracking()\n      stopScrollMetricsTracking()\n    },\n    stopINPTracking: stopINPTracking,\n    setLoadEvent: setLoadEvent,\n    setViewEnd: setViewEnd,\n    getCommonViewMetrics: function () {\n      commonViewMetrics.interactionToNextPaint = getInteractionToNextPaint()\n      return commonViewMetrics\n    }\n  }\n}\n"],"mappings":";;;;;;AAAA,IAAAA,oBAAA,GAAAC,OAAA;AACA,IAAAC,kBAAA,GAAAD,OAAA;AACA,IAAAE,4BAAA,GAAAF,OAAA;AACA,IAAAG,6BAAA,GAAAH,OAAA;AAEO,SAASI,sBAAsBA,CACpCC,SAAS,EACTC,qBAAqB,EACrBC,aAAa,EACbC,kBAAkB,EAClBC,WAAW,EACXC,SAAS,EACT;EACA,IAAIC,iBAAiB,GAAG,CAAC,CAAC;EAC1B,IAAIC,iBAAiB,GAAG,IAAAC,mCAAgB,EACtCR,SAAS,EACTC,qBAAqB,EACrBC,aAAa,EACbE,WAAW,EACXC,SAAS,EACT,UAAUI,cAAc,EAAE;IACxBH,iBAAiB,CAACI,WAAW,GAAGD,cAAc;IAC9CN,kBAAkB,CAAC,CAAC;EACtB,CACF,CAAC;EACD,IAAIQ,uBAAuB,GAAGJ,iBAAiB,CAACK,IAAI;EACpD,IAAIC,YAAY,GAAGN,iBAAiB,CAACM,YAAY;EACjD,IAAIC,mBAAmB,GAAG,IAAAC,uCAAkB,EAC1Cb,aAAa,EACbG,SAAS,EACT,UAAUW,gBAAgB,EAAE;IAC1BV,iBAAiB,CAACW,MAAM,GAAGD,gBAAgB;EAC7C,CACF,CAAC;EACD,IAAIE,yBAAyB,GAAGJ,mBAAmB,CAACF,IAAI;EACxD,IAAIO,eAAe;EACnB,IAAIC,2BAA2B,GAAG,IAAAC,uDAA0B,EAC1DrB,SAAS,EACTE,aAAa,EACb,UAAUoB,qBAAqB,EAAE;IAC/BhB,iBAAiB,CAACgB,qBAAqB,GAAGA,qBAAqB;IAC/DnB,kBAAkB,CAAC,CAAC;EACtB,CACF,CAAC;EACD,IAAIgB,eAAe,GAAGC,2BAA2B,CAACR,IAAI;EACtD,IAAIW,4BAA4B,GAAG,IAAAC,yDAA2B,EAC5DtB,aAAa,EACbG,SAAS,CAACoB,QAAQ,EAClBrB,WAAW,EACXJ,SACF,CAAC;EACD,IAAI0B,eAAe,GAAGH,4BAA4B,CAACX,IAAI;EACvD,IAAIe,yBAAyB,GAC3BJ,4BAA4B,CAACI,yBAAyB;EACxD,IAAIC,UAAU,GAAGL,4BAA4B,CAACK,UAAU;EACxD,OAAO;IACLhB,IAAI,EAAE,SAAAA,KAAA,EAAY;MAChBD,uBAAuB,CAAC,CAAC;MACzBQ,eAAe,CAAC,CAAC;MACjBD,yBAAyB,CAAC,CAAC;IAC7B,CAAC;IACDQ,eAAe,EAAEA,eAAe;IAChCb,YAAY,EAAEA,YAAY;IAC1Be,UAAU,EAAEA,UAAU;IACtBC,oBAAoB,EAAE,SAAAA,qBAAA,EAAY;MAChCvB,iBAAiB,CAACwB,sBAAsB,GAAGH,yBAAyB,CAAC,CAAC;MACtE,OAAOrB,iBAAiB;IAC1B;EACF,CAAC;AACH","ignoreList":[]}