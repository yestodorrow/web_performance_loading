{"version":3,"file":"trackFirstContentfulPaint.js","names":["_browserCore","require","TIMING_MAXIMUM_DELAY","ONE_MINUTE","exports","trackFirstContentfulPaint","lifeCycle","firstHidden","callback","subscribe","LifeCycleEventType","PERFORMANCE_ENTRIES_COLLECTED","entries","fcpEntry","find","entry","entryType","name","startTime","geTimeStamp","stop","unsubscribe"],"sources":["../../../../src/domain/rumEventsCollection/view/trackFirstContentfulPaint.js"],"sourcesContent":["import { find, LifeCycleEventType, ONE_MINUTE } from '@cloudcare/browser-core'\nexport var TIMING_MAXIMUM_DELAY = 10 * ONE_MINUTE\nexport function trackFirstContentfulPaint(lifeCycle, firstHidden, callback) {\n  var subscribe = lifeCycle.subscribe(\n    LifeCycleEventType.PERFORMANCE_ENTRIES_COLLECTED,\n    function (entries) {\n      var fcpEntry = find(entries, function (entry) {\n        return (\n          entry.entryType === 'paint' &&\n          entry.name === 'first-contentful-paint' &&\n          entry.startTime < firstHidden.geTimeStamp() &&\n          entry.startTime < TIMING_MAXIMUM_DELAY\n        )\n      })\n      if (fcpEntry) {\n        callback(fcpEntry.startTime)\n      }\n    }\n  )\n  return { stop: subscribe.unsubscribe }\n}\n"],"mappings":";;;;;;;AAAA,IAAAA,YAAA,GAAAC,OAAA;AACO,IAAIC,oBAAoB,GAAG,EAAE,GAAGC,uBAAU;AAAAC,OAAA,CAAAF,oBAAA,GAAAA,oBAAA;AAC1C,SAASG,yBAAyBA,CAACC,SAAS,EAAEC,WAAW,EAAEC,QAAQ,EAAE;EAC1E,IAAIC,SAAS,GAAGH,SAAS,CAACG,SAAS,CACjCC,+BAAkB,CAACC,6BAA6B,EAChD,UAAUC,OAAO,EAAE;IACjB,IAAIC,QAAQ,GAAG,IAAAC,iBAAI,EAACF,OAAO,EAAE,UAAUG,KAAK,EAAE;MAC5C,OACEA,KAAK,CAACC,SAAS,KAAK,OAAO,IAC3BD,KAAK,CAACE,IAAI,KAAK,wBAAwB,IACvCF,KAAK,CAACG,SAAS,GAAGX,WAAW,CAACY,WAAW,CAAC,CAAC,IAC3CJ,KAAK,CAACG,SAAS,GAAGhB,oBAAoB;IAE1C,CAAC,CAAC;IACF,IAAIW,QAAQ,EAAE;MACZL,QAAQ,CAACK,QAAQ,CAACK,SAAS,CAAC;IAC9B;EACF,CACF,CAAC;EACD,OAAO;IAAEE,IAAI,EAAEX,SAAS,CAACY;EAAY,CAAC;AACxC","ignoreList":[]}