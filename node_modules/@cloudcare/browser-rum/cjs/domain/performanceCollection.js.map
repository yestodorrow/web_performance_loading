{"version":3,"file":"performanceCollection.js","names":["_browserCore","require","_resourceUtils","supportPerformanceObject","window","performance","undefined","supportPerformanceTimingEvent","entryType","PerformanceObserver","supportedEntryTypes","includes","startPerformanceCollection","lifeCycle","configuration","retrieveInitialDocumentResourceTiming","timing","handleRumPerformanceEntries","performanceEntries","getEntries","setTimeout","handlePerformanceEntryList","monitor","entries","mainEntries","experimentalEntries","each","type","observer","observe","buffered","durationThreshold","e","push","mainObserver","entryTypes","addEventListener","clearResourceTimings","retrieveNavigationTiming","retrieveFirstInputTiming","callback","runOnReadyState","forcedAttributes","initiatorType","FAKE_INITIAL_DOCUMENT","traceId","toJSON","assign","getEntriesByType","length","navigationEntry","extend","relativePerformanceTiming","computeRelativePerformanceTiming","decodedBodySize","duration","responseEnd","name","location","href","startTime","sendFakeTiming","startTimeStamp","dateNow","timingSent","listeners","addEventListeners","DOM_EVENT","CLICK","MOUSE_DOWN","KEY_DOWN","TOUCH_START","POINTER_DOWN","evt","cancelable","processingStart","relativeNow","processingEnd","timeStamp","sendTimingIfPointerIsNotCancelled","sendTiming","passive","capture","removeEventListeners","stop","POINTER_UP","POINTER_CANCEL","event","once","delay","result","key","isNumber","getRelativeTime","rumPerformanceEntries","filter","entry","rumAllowedPerformanceEntries","isIncompleteNavigation","isForbiddenResource","notify","LifeCycleEventType","PERFORMANCE_ENTRIES_COLLECTED","loadEventEnd","isAllowedRequestUrl"],"sources":["../../src/domain/performanceCollection.js"],"sourcesContent":["import {\n  addEventListeners,\n  getRelativeTime,\n  isNumber,\n  includes,\n  each,\n  extend,\n  filter,\n  dateNow,\n  relativeNow,\n  DOM_EVENT,\n  LifeCycleEventType,\n  runOnReadyState,\n  setTimeout,\n  addEventListener,\n  monitor,\n  assign\n} from '@cloudcare/browser-core'\nimport {\n  FAKE_INITIAL_DOCUMENT,\n  isAllowedRequestUrl\n} from './rumEventsCollection/resource/resourceUtils'\nfunction supportPerformanceObject() {\n  return window.performance !== undefined && 'getEntries' in performance\n}\n\nexport function supportPerformanceTimingEvent(entryType) {\n  return (\n    window.PerformanceObserver &&\n    PerformanceObserver.supportedEntryTypes !== undefined &&\n    includes(PerformanceObserver.supportedEntryTypes, entryType)\n  )\n}\nexport function startPerformanceCollection(lifeCycle, configuration) {\n  retrieveInitialDocumentResourceTiming(function (timing) {\n    handleRumPerformanceEntries(lifeCycle, configuration, [timing])\n  })\n\n  if (supportPerformanceObject()) {\n    var performanceEntries = performance.getEntries()\n    // Because the performance entry list can be quite large\n    // delay the computation to prevent the SDK from blocking the main thread on init\n    setTimeout(function () {\n      handleRumPerformanceEntries(lifeCycle, configuration, performanceEntries)\n    })\n  }\n  if (window.PerformanceObserver) {\n    var handlePerformanceEntryList = monitor(function (entries) {\n      handleRumPerformanceEntries(\n        lifeCycle,\n        configuration,\n        entries.getEntries()\n      )\n    })\n    var mainEntries = ['resource', 'navigation', 'longtask', 'paint']\n    var experimentalEntries = [\n      'largest-contentful-paint',\n      'first-input',\n      'layout-shift',\n      'event'\n    ]\n    try {\n      // Experimental entries are not retrieved by performance.getEntries()\n      // use a single PerformanceObserver with buffered flag by type\n      // to get values that could happen before SDK init\n      each(experimentalEntries, function (type) {\n        var observer = new PerformanceObserver(handlePerformanceEntryList)\n        observer.observe({\n          type: type,\n          buffered: true,\n          // durationThreshold only impact PerformanceEventTiming entries used for INP computation which requires a threshold at 40 (default is 104ms)\n          // cf: https://github.com/GoogleChrome/web-vitals/blob/3806160ffbc93c3c4abf210a167b81228172b31c/src/onINP.ts#L209\n          durationThreshold: 40\n        })\n      })\n    } catch (e) {\n      // Some old browser versions (ex: chrome 67) don't support the PerformanceObserver type and buffered options\n      // In these cases, fallback to PerformanceObserver with entryTypes\n      each(experimentalEntries, function (type) {\n        mainEntries.push(type)\n      })\n    }\n    var mainObserver = new PerformanceObserver(handlePerformanceEntryList)\n    mainObserver.observe({ entryTypes: mainEntries })\n    if (supportPerformanceObject() && 'addEventListener' in performance) {\n      // https://bugzilla.mozilla.org/show_bug.cgi?id=1559377\n      addEventListener(performance, 'resourcetimingbufferfull', function () {\n        performance.clearResourceTimings()\n      })\n    }\n  }\n  if (!supportPerformanceTimingEvent('navigation')) {\n    retrieveNavigationTiming(function (timing) {\n      handleRumPerformanceEntries(lifeCycle, configuration, [timing])\n    })\n  }\n  if (!supportPerformanceTimingEvent('first-input')) {\n    retrieveFirstInputTiming(function (timing) {\n      return handleRumPerformanceEntries(lifeCycle, configuration, [timing])\n    })\n  }\n}\n\nexport function retrieveInitialDocumentResourceTiming(callback) {\n  runOnReadyState('interactive', function () {\n    var timing\n\n    var forcedAttributes = {\n      entryType: 'resource',\n      initiatorType: FAKE_INITIAL_DOCUMENT,\n      traceId: '',\n      toJSON: function () {\n        return assign({}, timing, { toJSON: undefined })\n      }\n    }\n    if (\n      supportPerformanceTimingEvent('navigation') &&\n      performance.getEntriesByType('navigation').length > 0\n    ) {\n      var navigationEntry = performance.getEntriesByType('navigation')[0]\n      timing = extend(navigationEntry.toJSON(), forcedAttributes)\n    } else {\n      var relativePerformanceTiming = computeRelativePerformanceTiming()\n      timing = extend(\n        relativePerformanceTiming,\n        {\n          decodedBodySize: 0,\n          duration: relativePerformanceTiming.responseEnd,\n          name: window.location.href,\n          startTime: 0\n        },\n        forcedAttributes\n      )\n    }\n    callback(timing)\n  })\n}\n\nfunction retrieveNavigationTiming(callback) {\n  function sendFakeTiming() {\n    callback(\n      extend(computeRelativePerformanceTiming(), { entryType: 'navigation' })\n    )\n  }\n\n  runOnReadyState('complete', function () {\n    // Send it a bit after the actual load event, so the \"loadEventEnd\" timing is accurate\n    setTimeout(sendFakeTiming)\n  })\n}\n\n/**\n * first-input timing entry polyfill based on\n * https://github.com/GoogleChrome/web-vitals/blob/master/src/lib/polyfills/firstInputPolyfill.ts\n */\nfunction retrieveFirstInputTiming(callback) {\n  var startTimeStamp = dateNow()\n  var timingSent = false\n\n  var listeners = addEventListeners(\n    window,\n    [\n      DOM_EVENT.CLICK,\n      DOM_EVENT.MOUSE_DOWN,\n      DOM_EVENT.KEY_DOWN,\n      DOM_EVENT.TOUCH_START,\n      DOM_EVENT.POINTER_DOWN\n    ],\n    function (evt) {\n      // Only count cancelable events, which should trigger behavior important to the user.\n      if (!evt.cancelable) {\n        return\n      }\n\n      // This timing will be used to compute the \"first Input delay\", which is the delta between\n      // when the system received the event (e.g. evt.timeStamp) and when it could run the callback\n      // (e.g. performance.now()).\n      var timing = {\n        entryType: 'first-input',\n        processingStart: relativeNow(),\n        processingEnd: relativeNow(),\n        startTime: evt.timeStamp,\n        duration: 0,\n        name: ''\n      }\n\n      if (evt.type === DOM_EVENT.POINTER_DOWN) {\n        sendTimingIfPointerIsNotCancelled(timing)\n      } else {\n        sendTiming(timing)\n      }\n    },\n    { passive: true, capture: true }\n  )\n  var removeEventListeners = listeners.stop\n\n  /**\n   * Pointer events are a special case, because they can trigger main or compositor thread behavior.\n   * We differenciate these cases based on whether or not we see a pointercancel event, which are\n   * fired when we scroll. If we're scrolling we don't need to report input delay since FID excludes\n   * scrolling and pinch/zooming.\n   */\n  function sendTimingIfPointerIsNotCancelled(timing) {\n    addEventListeners(\n      window,\n      [DOM_EVENT.POINTER_UP, DOM_EVENT.POINTER_CANCEL],\n      function (event) {\n        if (event.type === DOM_EVENT.POINTER_UP) {\n          sendTiming(timing)\n        }\n      },\n      { once: true }\n    )\n  }\n\n  function sendTiming(timing) {\n    if (!timingSent) {\n      timingSent = true\n      removeEventListeners()\n      // In some cases the recorded delay is clearly wrong, e.g. it's negative or it's larger than\n      // the time between now and when the page was loaded.\n      // - https://github.com/GoogleChromeLabs/first-input-delay/issues/4\n      // - https://github.com/GoogleChromeLabs/first-input-delay/issues/6\n      // - https://github.com/GoogleChromeLabs/first-input-delay/issues/7\n      var delay = timing.processingStart - timing.startTime\n      if (delay >= 0 && delay < dateNow() - startTimeStamp) {\n        callback(timing)\n      }\n    }\n  }\n}\n\nfunction computeRelativePerformanceTiming() {\n  var result = {}\n  var timing = performance.timing\n  for (var key in timing) {\n    if (isNumber(timing[key])) {\n      result[key] = timing[key] === 0 ? 0 : getRelativeTime(timing[key])\n    }\n  }\n  return result\n}\n\nfunction handleRumPerformanceEntries(lifeCycle, configuration, entries) {\n  var rumPerformanceEntries = filter(entries, function (entry) {\n    return (\n      entry.entryType === 'resource' ||\n      entry.entryType === 'navigation' ||\n      entry.entryType === 'paint' ||\n      entry.entryType === 'longtask' ||\n      entry.entryType === 'largest-contentful-paint' ||\n      entry.entryType === 'first-input' ||\n      entry.entryType === 'layout-shift' ||\n      entry.entryType === 'event'\n    )\n  })\n\n  var rumAllowedPerformanceEntries = filter(\n    rumPerformanceEntries,\n    function (entry) {\n      return (\n        !isIncompleteNavigation(entry) &&\n        !isForbiddenResource(configuration, entry)\n      )\n    }\n  )\n\n  if (rumAllowedPerformanceEntries.length) {\n    lifeCycle.notify(\n      LifeCycleEventType.PERFORMANCE_ENTRIES_COLLECTED,\n      rumAllowedPerformanceEntries\n    )\n  }\n}\n\nfunction isIncompleteNavigation(entry) {\n  return entry.entryType === 'navigation' && entry.loadEventEnd <= 0\n}\n\nfunction isForbiddenResource(configuration, entry) {\n  return (\n    entry.entryType === 'resource' &&\n    !isAllowedRequestUrl(configuration, entry.name)\n  )\n}\n"],"mappings":"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","ignoreList":[]}